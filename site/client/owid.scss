/*
	Theme Name: Our World In Data
	Theme URI: https://ourworldindata.org;
	Description: A responsive custom theme for Our World In Data
	Author: Jaiden Mispy
	Author URI: https://ourworldindata.org

	Version: 1.2

	Tags: responsive layout

	License: MIT
	License URI: https://opensource.org/licenses/MIT
*/

@import '~normalize.css';

@import 'css/variables.scss';
@import 'css/mixins.scss';

@import 'css/category-coloring.scss';
@import 'css/util.scss';
@import 'css/layout.scss';
@import 'css/general.scss';
@import 'css/header.scss';
@import 'css/footer.scss';

@import 'css/content.scss';
@import 'css/forms.scss';
@import 'css/page.scss';

@import 'css/pages/homepage.scss';
@import 'css/pages/donate.scss';
@import 'css/pages/faq.scss';

/* HACK (Mispy): Fix search autozooming on iPhone Safari.
   http://stackoverflow.com/questions/2989263/disable-auto-zoom-in-input-text-tag-safari-on-iphone */

@media screen and (-webkit-min-device-pixel-ratio:0) {
  select,
  textarea,
  input {
    font-size: 16px;
  }
}

#wpadminbar {
    direction: ltr;
    font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;
    height: 32px;
    position: fixed;
    top: 0;
    right: 0;
    z-index: $zindex-adminbar;
    font-size: 13px;
    font-weight: 400;
	line-height: 32px;
	opacity: 0.3;
}

#wpadminbar li {
	float: left;
	list-style-type: none;
}

#wpadminbar li > a {
    height: 32px;
    padding: 0 8px 0 7px;
    color: #3366cc;
}


/* Site Footer
--------------------------------------------- */

.SiteFooter {
	background: $primary-color;
	border-top: 1px solid rgba(0, 0, 0, 0.1);
	color: rgba(255, 255, 255, 0.5);
	text-align: center;
	padding: 40px 24px;
	font-weight: 300;
	word-wrap: initial;

	a {
		color: rgba(255, 255, 255, 0.8);
		text-decoration: underline;
		display: inline-block;
	}

	.logo {
		text-decoration: none;
		font-size: 1.1em;
	}

	nav {
		margin-top: 12px;
	}

	nav a {
		margin-right: 10px;
	}
}

@media screen and (max-width: 950px) {
	.SiteFooter .column {
		width: 100%;
	}

	.SiteFooter hr {
		border: 1px solid #aaa;
		border-top: none;
		margin-top: 14px;
		margin-bottom: 14px;
	}

	.SiteFooter p {
		font-size: 14px;
	}
}

@media screen and (min-width: 950px) {
	.SiteFooter hr {
		display: none;
	}

	.SiteFooter .column.subscribe {
		max-width: 400px;
	}

	.SiteFooter .clearfix {
		padding-bottom: 30px;
		border-bottom: 1px solid #ccc;
		margin-bottom: 30px;
	}

	.SiteFooter .donation-thanks {
		font-size: 16px;
		padding-bottom: 30px;
		border-bottom: 1px solid #ccc;
		margin-bottom: 30px;
	}
}

@media screen and (max-width: 480px) {
	.SiteFooter .supporters-left, .SiteFooter .supporters-right {
		display: block;
		width: 100%;
		margin: 0;
	}

	.SiteFooter .supporters-right {
		margin-top: 14px;
		border-top: 1px solid #aaa;
		padding-top: 14px;
	}
}

/* Blog posts and blog index page (on /blog)
--------------------------------------------- */

header.blog-header h1 {
	text-align: center;
	font-family: $serif-font-stack;
	font-weight: 400;
	background: $primary-color;
	color: white;
	margin: auto;
	margin-bottom: 1rem;
	font-size: 1.8rem;
	line-height: 1;
	padding: 1.25rem 0;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

header.blog-header h1 > a {
	color: white;
}

body.blog main {
	padding-left: 1rem;
	padding-right: 1rem;
}

body.blog .site-content {
	max-width: 1120px;
	margin-left: auto;
	margin-right: auto;
}

body.blog h2 {
    font-family: $serif-font-stack;
    font-weight: 400;
    margin-bottom: 14px;
}

body.blog ul.posts {
	display: flex;
	justify-content: space-between;
	flex-wrap: wrap;
	margin-bottom: 1em;
}

body.blog li.post {
	list-style-type: none;
	width: calc(33.3333% - 2em);
	margin-bottom: 2em;
}

body.blog li.post h3 {
	margin-top: 0;
	margin-bottom: 0;
	font-size: 19px;
	line-height: 24px;
	font-family: $serif-font-stack;
	font-weight: 400;
}

body.blog li.post .entry-meta {
	font-size: 14px;
}

body.blog li.post a {
	color: inherit;
}

body.blog li.post a:hover h3 {
	color: #d10a11;
}

body.blog li.post a:hover img {
	border: 1px solid #999;
}

body.blog li.post img {
	border: 1px solid #e0e0e0;
	width: 100%;
	height: 215px;
	object-fit: cover;
}

@media only screen and (min-width: 768px) {
	body.blog main {
		margin-top: 40px;
	}
}

@media only screen and (max-width: 767px) {
	body.blog li.post {
		width: 100%;
		padding-bottom: 30px;
		border-bottom: 1px solid #e0e0e0;
		margin-bottom: 30px;
	}
}


body.single-post main {
	background: #f6f6f6;
	border-bottom: 1px solid #ddd;
}

body.single-post .site-content {
	padding: 1rem;
	padding-top: 1rem;
}

body.single-post article {
	max-width: 900px;
	margin: auto;
}

body.single-post article {
	background: white;
	margin-bottom: 1rem;
	border: 1px solid #ddd;
}

body.single-post h1.entry-title {
	margin: 0;
}

h1.entry-title > a {
	color: #222;
}

h1.entry-title > a:hover {
	color: #d10a11;
}

.pagination {
	text-align: center;
	padding-bottom: 30px;
}

.pagination .page-numbers {
    background-color: #000;
    box-shadow: 0 0 1px rgba(0,0,0,0.1);
    color: #fff;
    cursor: pointer;
    display: inline-block;
    font-family: $sans-serif-font-stack;
    font-size: 14px;
    letter-spacing: 1px;
    padding: 8px 12px;
    text-transform: uppercase;
}

.pagination .page-numbers.current,
.pagination .page-numbers:hover {
	color: #fff;
	background: #f04848;
}

@media only screen and (max-width: 800px) {
	body.blog article, body.single-post article {
		padding: 1rem;
	}

	body.blog .site-content, body.single-post .site-content {
		padding: 0.5rem;
	}

	#blog-sidebar {
		display: none;
	}
}

@media only screen and (min-width: 800px) {
	#blog-content {
		max-width: 1170px;
		margin: auto;
	}


	#blog-sidebar {
		background: white;
	}

	#blog-sidebar h3 {
		margin-bottom: 14px;
	}

	#blog-sidebar h3 > a {
		color: #c0023e;
	}

	#blog-sidebar h3 > a:hover {
		color: #5b011d;
	}
}

@media only screen {
	.screen-reader-text {
		display: none;
	}
}

/* The little section at the top of blog posts that links to related entries */
.blog-info {
    background-color: #E9EEF2;
    color: #406592;
	padding: 0.625rem;
	margin-bottom: 2rem;
	font-size: 0.875rem;
	text-align: center;

	> p:last-child {
		margin-bottom: 0;
	}

    > p:first-child {
        margin-top: 0;
    }
}

/* Optional abstract for blog posts */
.blog-abstract {
	background-color: #f8f7fe;
	padding: 20px;
}

main {
	min-height: 500px;
}

#fancybox-frame {
	width: 100% !important;
}
#fancybox-wrap .chart-wrapper-inner {
	box-sizing: border-box !important;
}

.deep-link {
    position: relative;
    left: -4px;
    display: inline-block;
    width: 20px;
    height: 20px;
    margin-top: -5px;
    margin-left: -20px;
    font-size: 16px;
    text-indent: -9999px;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUM1OUVDNUY1M0E2MTFFNUEwNUQ5OEUxOTFCMkRGRjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUM1OUVDNjA1M0E2MTFFNUEwNUQ5OEUxOTFCMkRGRjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQzU5RUM1RDUzQTYxMUU1QTA1RDk4RTE5MUIyREZGMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxQzU5RUM1RTUzQTYxMUU1QTA1RDk4RTE5MUIyREZGMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgU65CgAAAHVSURBVHjalNRPSJRBGMfx9Q+ElH8w/6560vBSeFgR8RB6USsIEQ8elPSgRhFeREQpuoommmIJ6qGUIKVEsUA8RuFJhAgP4kEFwZCKWE2h7PvA74Vp2W3XgQ8zs+/L8848z+zEBQIB3zlaCtrQgCLs4zVG8SPxHIEy8AI3Qn67hjI0Jvj9/lgCZWEJlZq/wRNbDUpQjONYVlaFCVzRvB89Gk/hD+6gKT5KIPtYBS7gCENOIK+9V58ZbWVJWMSsAm+F+VijxpuRgiXjPuqQhx0sYBqHesd2NaB3rM2EC5ZmD3DL+S1f223HVZxgGA+cgrwMzVm6zo0X6Clq8cyqpbxZwnudQB+0i6C7smxtpVzzRxhDDu5hHHt4KNY+oR5fvQRay8W8E6gLI/isLU5iGXe1CmsrSv43txqW7OfKiU+H0VzCRekUr9kBbtah/ae0rbit+SC6NQ7C/rgdymEBdvFW2w+GO5RNGs8p0Jnm1h/glVUKqdjGz0iH0qpZ6J0TJ5DPqeY6VlGjavr+F+y7xjdDng2p/Ja731hTH7HZrWE3wnWUqnKX8RgteucjqvEl2o0Qx+WYrHzVhHm+rBvhMJZ7ylZ2Sv8Ov3RwE7ChbfY5aYja/gowANjwYjNXvUNzAAAAAElFTkSuQmCC') no-repeat center;
    background-size: contain;
    opacity: 0;
    vertical-align: middle;
}


h2:hover .deep-link,
h3:hover .deep-link,
h4:hover .deep-link,
h5:hover .deep-link,
h6:hover .deep-link {
	opacity: 1.0;
}

#un-button.un-bottom.css3 {
	left: 0 !important;
	margin-left: 20px !important;
	font-size: 16px;
}


/* search */
.archive-pagination {
	margin: 40px auto;
    text-align: center;
}

.article-content a,
.article-footer a {
	@include owid-link;
}

/* Homepage
--------------------------------------------- */

#homepage-content {
	padding: 30px 0;
}

.social a {
	font-size: 24px;
	background-color: #c0023e;
	color: white;
	width: 36px;
	height: 36px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 4px;
	margin-right: 5px;

	svg {
		width: 24px;
		height: 24px;
	}
}

.social a:hover {
	color: white;
	background-color: #5b011d;
}

#homepage-content h3 {
	font-family: $serif-font-stack;
	font-weight: 400;
	margin-bottom: 14px;
}

#homepage-content h3 > a {
	color: #c0023e;
}

#homepage-content h3 > a:hover {
	color: #5b011d;
}

#homepage-content iframe {
	margin-bottom: 20px;
}

#homepage-latest {
	padding: 10px 20px;
}

#homepage-blog h4 {
	font-family: $serif-font-stack;
	font-weight: 400;
	margin-bottom: 0.25rem;
	font-size: 20px;
}

#homepage-blog li {
	list-style-type: none;
}

#homepage-blog li a {
	color: #222;
}

#homepage-blog li a:hover {
	color: #d10a11;
}

#homepage-blog > a {
	color: #c0023e;
}

#homepage-blog > a:hover {
	color: #5b011d;
}

#homepage-blog a.more {
	font-size: 17px;
}

@include lg-only {
	#homepage-blog {
		float: right;
		width: 30%;
		padding: 10px 20px;
	}

	#homepage-entries {
		float: left;
		width: 70%;
		padding: 10px 20px;
	}

	#homepage-entries p {
		font-size: 17px;
	}

	#homepage-entries div > a {
		font-size: 14px;
	}

	#homepage-entries span {
		margin-right: 0;
	}

	#homepage-entries span::after {
		content: "";
	}

	#homepage-content .owid-presentations {
		float: right;
		width: 30%;
		padding: 10px 20px;
	}

	#homepage-content .owid-presentations p {
		text-align: left;
		font-size: 16px;
	}

	#homepage-content .owid-presentations div > a {
		width: 100%;
	}

	#homepage-twitter {
		float: right;
		width: 30%;
		padding: 10px 20px;
	}

	#homepage-twitter .social {
		margin-bottom: 10px;
	}

	.owid-data .link-container {
		display: flex;
		flex-flow: row wrap;
	    display: -webkit-flex;
	    -webkit-flex-flow: row wrap;
	    display: -ms-flexbox;
	    -ms-flex-flow: row wrap;
	}

	.owid-data li a {
		width: 33.3333%;
		display: inline-block;
	}
}

@include sm-only {
	#homepage-twitter {
		display: none;
	}

	#homepage-blog {
		margin-bottom: 20px;
	}
}

/* Teaching Page
--------------------------------------------- */

.teaching-hub #category-nav,
.teaching-hub #entries-nav {
	display: none;
}

.teaching-hub .article-content h2 {
	font-family: inherit;
	font-size: 36px;
	font-weight: 700;
	text-align: left;
	margin: 1rem 0 2rem;
}

.teaching-hub .columns {
	margin-bottom: 1.5rem;
}

.teaching-hub .columns .column {
	display: inline-block;
	margin: 0 .6rem .6rem 0;
}

@media screen and (max-width: 640px) {
	.teaching-hub .columns .column {
		display: block;
	}
}

.teaching-hub .button {
	background-color: #3a4c71;
	color: white;
	padding: 0.75rem 1.4rem;
	text-align: center;
	line-height: 1.2;
	display: block;
}

.teaching-hub .button:hover {
	text-decoration: none;
	background-color: #4b5c7e;
	color: white;
}

.teaching-hub a.button:visited {
	color: white;
}

.teaching-hub .primary-button {
	background-color: #B62300;
}

.teaching-hub .primary-button:hover {
	background-color: #bb4122;
}

.teaching-hub .button .label {
	font-weight: bold;
	margin-bottom: 0.3rem;
}

.teaching-hub .button .note {
	font-size: 68.75%;
	text-transform: uppercase;
	letter-spacing: 0.04rem;
	opacity: .6;
}

.teaching-hub .button span {
	display: block;
}

.teaching-hub .authors-byline {
	display: none;
}

.teaching-hub .button::selection {
	background: transparent;
}

/* OWID Data Entries Table
--------------------------------------------- */

.owid-data h1 {
	margin: 0;
	text-align: center;
	z-index: 1;
	position: relative;
}

.owid-data h1 > span {
	background: white;
	text-transform: uppercase;
	font-size: 24px;
	color: #002147;
	padding: 0 15px;
}

.owid-data .separator {
	position: relative;
	opacity: 0.8;
}

.owid-data hr {
    position: relative;
    margin: 0;
    top: -1.2em;

    background: #002147;
    border: 0;
    clear: both;
    color: #002147;
    display: block;
    height: 1px;
    padding: 0;
    margin-left: 20px;
    margin-right: 20px;
}

.owid-data ul {
	margin: 0 !important;
}

.owid-data li {
	list-style-type: none !important;
	margin-top: 5px;
	margin-bottom: 5px;
}

#homepage-entries li:last-child {
	margin-bottom: 30px;
}

.owid-data h4 {
	font-family: $serif-font-stack;
	font-weight: 400;
	margin-top: 25px;
	margin-bottom: 0;
	font-size: 16px;
	color: #002147;
	text-align: center;
	position: relative;
}

.owid-data .link-container {
	border-top: 2px solid #002147;
	border-left: 1px solid #ddd;
	margin-top: 3px;
}

.owid-data li a {
	display: block;
	box-sizing: border-box;
	border-bottom: 1px solid #ddd !important;
	border-right: 1px solid #ddd;
	padding: 5px 10px;
	background: none !important;
	font-size: 16px;
	color: #002147 !important;
}

.owid-data li a:hover {
	color: white !important;
	/*padding-bottom: 2px;*/
}

.owid-data a.starred:hover:after {
	color: white;
}

/* MISPY: Front page mobile-default responsiveness and data entry listing */

body.home .mobile.subheading {
	font-family: $serif-font-stack;
	color: rgb(255, 203, 31);
	font-size: 22px;
}

.owid-presentations li:nth-of-type(1) .link-container {
	border-top: 2px solid #333;
}

div.owid-presentations li:nth-of-type(1) h4 {
	color: #333;
}
div.owid-presentations li:nth-of-type(1) a:hover {
	background: #333 !important;
}

.footer-widgets .widget-title {
	color: #fff;
}

/* Blog post updates listing on front page */

.entry-meta {
	font-size: 80%;
	color: rgba(0,0,0,.5);
	margin-bottom: 10px;
}

/* Pages & Posts
--------------------------------------------- */

.LongFormPage .articleHeader {
	margin-top: 1.5rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.articleHeader > h1 {
    font-family: $serif-font-stack;	font-weight: 400;
    font-size: 3rem;
    line-height: 1.2;
    margin: 0 0 20px;

    @include sm-only {
        font-size: 2.25rem;
    }
}

.article-content > section:not(:first-child) {
    margin-top: 60px;
    padding-top: 30px;
}

.article-content > section {
	/* The CSS here is very precise so as not to interfere with any iframeless embeds */

	> p {
		margin-bottom: 1em;
	}

	/* Major sections e.g. I. Empirical View */
	> h2 {
		font-family: $serif-font-stack;
		font-size: 3rem;
		font-weight: 400;
		text-align: center;
        margin-top: 0;
        padding-top: 2rem;
		margin-bottom: 5.25rem;
		line-height: 1.25em;

        @include sm-only {
            font-size: 2.5rem;
        }
	}

	/* Subsections e.g. I.1 Historical perspective */
	> h3 {
		font-family: $serif-font-stack;
		font-size: 2.25rem;
		font-weight: 400;
		line-height: 1.25em;
		margin-top: 4.5rem;
		margin-bottom: 1.5rem;

        @include sm-only {
            font-size: 1.75rem;
        }
	}

	/* Intratext headings e.g. How different are countries in terms of central government involvement in the economy? */
	> h4 {
		font-family: $serif-font-stack;
		font-weight: 400;
		font-size: 1.5rem;
		line-height: 1.4em;
		margin-top: 2.75rem;
		margin-bottom: 1rem;

        @include sm-only {
            font-size: 1.25rem;
        }
	}

	> h5 {
		font-family: $serif-font-stack;
		font-weight: 400;
		line-height: 1.2;
		margin: 0 0 20px;
		padding-top: 10px;
		border-top: 1px;
		border-top-style: solid;
		border-top-color: #d3d3d3;
		padding-left: 15px;
		border-left: 1px;
		border-left-style: solid;
		border-left-color: #d3d3d3;
		font-size: 22px;
	}

	/* Image captions */
	> h6 {
		margin-top: 40px;
		margin-bottom: 5px;
	}
	> h6 + p img {
		margin-top: 0;
	}

	> blockquote {
		font-style: italic;
	}

	> .tableContainer {
		width: 100%;
		overflow-x: auto;
	}


	/* Center latex equations that occur on their own line e.g. https://ourworldindata.org/projections-of-future-education/#data-quality-definitions */
	svg.latex:only-child {
		display: block;
		margin: auto;
	}
}

hr {
	color: lightgrey;
	border-bottom:none;
	border-left:none;
	border-right: none;
	padding-bottom: 8px;
	border-top: 1px;
	border-top-style: solid;
	margin-bottom: 0;
}

/* The style of horizontal lines in the data sources section of every entry */
hr.datasources-hr {
	color: lightgrey;
	border-top:none;
	border-left:none;
	border-right: 1px;
	border-right-style: solid;
	padding-bottom: 8px;
	border-bottom: 1px;
	border-bottom-style: solid;
	margin-bottom: 0;
	position: relative;
	top: -40px;
	padding-top: 20px;
}

.article-footer {
	font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 40px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
	padding-bottom: 48px;

	h3 {
		font-size: 15px;
		font-weight: 500;
		margin-top: 2em;
		margin-bottom: 0;
		color: rgba(0,0,0,0.65);
	}

	ol.references {
		margin-top: 1em;
	}

	ol.references > li {
		margin-left: 20px;
		padding-left: 5px;
		margin-bottom: 1em;
		list-style-type: decimal;
		list-style-position: outside;
	}

	.citation {
		font-size: 11px;
		line-height: 15px;
		border-left: 1px solid rgba(0, 0, 0, 0.1);
		padding-left: 18px;
		border: 1px solid rgba(0,0,0,0.1);
		background: rgba(0, 0, 0, 0.02);
		padding: 10px 18px;
		border-radius: 3px;
		color: rgba(150, 150, 150, 1);
		overflow: hidden;
		margin-top: -6px;
		white-space: pre-wrap;
		word-wrap: break-word;
	}
}


img {
	max-width: 100%;
}

.article-content img {
	display: block;
	margin: 1em auto;
	border: 1px solid #ccc;
	padding: 10px;
}

figure[data-grapher-src] {
	margin-left: auto;
	margin-right: auto;
	margin-bottom: 1em;
	text-align: center;
	line-height: 0;

	width: 100%;

	> a {
		border-bottom: none !important;
	}

	> a > div {
		display: inline-block;
		position: relative;
	}

	> a > div:hover {
		-webkit-box-shadow: 0px 0px 4px #000;
		-moz-box-shadow: 0px 0px 4px #000;
		box-shadow: 0px 0px 4px #000;
	}

	img {
		margin: 0;
		padding: 0;
		width: 100%;
		max-width: 850px;
	}
}

figure[data-grapher-src].grapherPreview {
    padding: 1em 0;
}

figure[data-grapher-src]:not(.grapherPreview) {
	height: 575px;
}



article.page h1.entry-title {
	text-align: center;
	margin: 0 0 1rem;
}

article.page .authors-byline {
	margin-top: 0.5rem;
	text-align: center;
	font-family: $serif-font-stack;
    font-size: 1.125rem;
    color: rgba($text-color, .8);
}

article.page .authors-byline a {
	color: inherit;
}

article.page .authors-byline a:hover {
	color: #c0023e;
}

article.page header.articleHeader {
	margin-bottom: 1.2rem;
}

article.post {
	max-width: 1080px;
	margin: auto;
	padding: 1.5rem;
}

.article-content ol, .article-content ul {
    margin-bottom: 30px;
    margin-left: 40px;
    font-weight: normal;
}

.article-content ul ul {
	margin-bottom: 0;
}

.article-content > p > ul > li {
	margin-bottom: 5px;
}

/* For wide tables and such on mobile */
.article-content p {
	overflow-x: auto;
	overflow-y: hidden;
}

.article-content ol > li {
	margin-bottom: 10px;
}

.article-content iframe {
	display: block;
	margin-left: auto;
	margin-right: auto;
	border: 1px solid #ccc !important;
}

.article-content iframe[src*=grapher] {
	border: none !important;
	width: 100%;
	max-width: 850px;
}

/*@media (max-width: 767px) {
	.article-content figure {
		height: 500px;
		max-height: 500px;
	}
}*/

.article-content .twitter-tweet {
    margin-left: auto;
    margin-right: auto;
}

img {
	height: auto;
}

iframe {
	border: none;
}

/* HACK (Mispy): Solve an issue with inconsistent WP markup.
   Sometimes iframes are inside the same <p> element as their preceding text,
   sometimes not. */
iframe:not(:first-child) {
	margin-bottom: 1em;
}

@media only screen and (max-width: 980px) {
	article.post, article.page {
		padding: 1rem;
	}

	.deep-link {
		width: 12px;
		height: 12px;
		margin-left: -11px;
	}
}

.contentContainer {
	max-width: 800px;
	padding-bottom: 50px;
	margin-left: auto;
	margin-right: auto;
	position: relative;
}

/* Page Navigation Sidebar
--------------------------------------------- */

nav.entry-toc {
    top: 30px;
	height: calc(100vh - 60px);
	position: -webkit-sticky;
    position: sticky;
    font-size: 12px;
    direction: rtl;
    text-align: left;
    overflow-y: scroll;
	margin-left: 1px;
	margin-bottom: 30px;
	padding-left: 16px;
}

nav.entry-toc li {
	list-style-type: none;
	position: relative;
	color: rgba(0, 0, 0, 0.87);
	direction: ltr;
}

nav.entry-toc .section {
	margin-top: 18px;
	color: #111;
    margin-bottom: 4px;
	padding-bottom: 0px;
	line-height: 20px;
	font-size: 13px;
	font-weight: 700;
}

.entry-toc .section.nosubs {
	border-bottom: 0;
	margin-bottom: 0;
	margin-top: 10px;
}

nav.entry-toc .subsection {
	color: #444;
	line-height: 18px;
	font-size: 13px;
}

nav.entry-toc li > a {
	opacity: 0.7;
}

nav.entry-toc li.active > a {
	opacity: 1;
}

.entry-sidebar {
	width: 240px;
	margin-left: -300px;
	height: 100%;
	position: absolute;
	margin-top: -1px;
}

.entry-toc li:first-child {
	font-size: 16px;
	line-height: 22px;
}

.entry-toc li > a {
	color: #616161;
	display: block;
	overflow: hidden;
	padding-top: 2px;
	padding-bottom: 2px;
}

.entry-toc li > a:hover {
	opacity: 1;
}

.sidebar-container {
	flex-grow: 0;
	max-width: 25%;
	flex-basis: 25%;
}

@media only screen and (max-width: 1350px) {
	nav.entry-toc {
		display: none;
	}
}

article.page .authors-byline .citation-note {
	opacity: .9;
	color: #0645ad;
	cursor: pointer;
  	user-select: none;
	-webkit-user-select: none;   /* Chrome/Safari/Opera */
	-moz-user-select: none;      /* Firefox */
	-ms-user-select: none;       /* IE/Edge */
	-webkit-touch-callout: none; /* iOS Safari */
}

article.page .authors-byline .citation-note:hover {
	color: #0645ad;
}

.citation-guideline {
	display: none;
	text-align: center;
	max-width: 900px;
	margin: auto;
	border: 1px solid #ccc;
	padding: 1em;
	font-size: 18px;
	margin-top: 1.2rem;
}

article.page {
	margin: auto;
}


/* Taken from Bootstrap tooltip css */
.tooltip {
  position: absolute;
  z-index: $zindex-tooltip;
  display: block;
  font-family: $sans-serif-font-stack;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.5;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 0.875rem;
  opacity: 0; }
  .tooltip.in {
    opacity: 0.9; }
  .tooltip.tooltip-top, .tooltip.bs-tether-element-attached-bottom {
    padding: 5px 0;
    margin-top: -3px; }
    .tooltip.tooltip-top .tooltip-arrow, .tooltip.bs-tether-element-attached-bottom .tooltip-arrow {
      bottom: 0;
      left: 50%;
      margin-left: -5px;
      border-width: 5px 5px 0;
      border-top-color: #000; }
  .tooltip.tooltip-right, .tooltip.bs-tether-element-attached-left {
    padding: 0 5px;
    margin-left: 3px; }
    .tooltip.tooltip-right .tooltip-arrow, .tooltip.bs-tether-element-attached-left .tooltip-arrow {
      top: 50%;
      left: 0;
      margin-top: -5px;
      border-width: 5px 5px 5px 0;
      border-right-color: #000; }
  .tooltip.tooltip-bottom, .tooltip.bs-tether-element-attached-top {
    padding: 5px 0;
    margin-top: 3px; }
    .tooltip.tooltip-bottom .tooltip-arrow, .tooltip.bs-tether-element-attached-top .tooltip-arrow {
      top: 0;
      left: 50%;
      margin-left: -5px;
      border-width: 0 5px 5px;
      border-bottom-color: #000; }
  .tooltip.tooltip-left, .tooltip.bs-tether-element-attached-right {
    padding: 0 5px;
    margin-left: -3px; }
    .tooltip.tooltip-left .tooltip-arrow, .tooltip.bs-tether-element-attached-right .tooltip-arrow {
      top: 50%;
      right: 0;
      margin-top: -5px;
      border-width: 5px 0 5px 5px;
      border-left-color: #000; }

.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 0.25rem;
}

.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}

/* Customizations to tooltip */

.tooltip {
	cursor: default;
	font-size: 12px;
}
.tooltip-inner {
	text-align: left;
	max-width: 400px;
	padding: 20px;
}
.tooltip-inner p {
	margin: 0;
}
.tooltip a {
	background-image: none !important;
	padding-right: 0 !important;
	color: #75b7eb;
}
.tooltip a:hover {
	color: #75b7eb;
}

/* Weird hack to increase the mouseover area of the inline footnotes */
a.ref sup::after {
	overflow: hidden;
    text-indent: -9999rem;
    font-size: 0;
    line-height: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-50%, -50%);
    -moz-transform: translate(-50%, -50%);
    -ms-transform: translate(-50%, -50%);
    -o-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
    content: "increase click area";
    width: 100%;
    height: 100%;
    min-width: 1.875rem;
    min-height: 1.875rem;
    z-index: $zindex-footnote;
    border-radius: 100%;
}
a.ref sup {
	padding-left:0.5px;
}

/* Hide feedback button on mobile */

@media only screen and (max-width: 1060px) {
	#un-button {
		display: none !important;
	}
}

/* Printing
--------------------------------------------- */

.print-only {
	display: none !important;
}

html:not(.js) {
	.js-only {
		display: none;
	}
}

@media print {
	.site-header,
	footer.SiteFooter,
	#un-button,
	.citation-note,
	.entry-sidebar,
	address,
	#wpadminbar,
	.no-print {
		display: none !important;
	}

	.print-only {
		display: block !important;
	}

	body, .article-content > p, .article-content > ol, .article-content > ul {
		font: 12pt "Times New Roman", Times, serif;
		line-height: 1.3;
	}
	.article-content > h2, .article-content > h3, .article-content > h4, .article-content > h5, .article-content > h6 {
		page-break-after: avoid;
	}
	pre, blockquote {
		page-break-inside: avoid;
	}
}

.ChartsIndexPage main, .EntriesByYearPage main {
	padding: 0 3vw;
	margin-bottom: 100px;

	.chartsHeader {
		margin-top: 20px;
		margin-bottom: 10px;
	}

	input[type=search] {
		width: 100%;
		padding: 10px;
	}

	h2 {
		font-size: 0.9em;
		color: #444;
		margin-top: 1.1em;
		margin-bottom: 0.1em;
	}

    ul {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(32rem,1fr));
        grid-column-gap: 1rem;
    }

    ul > li {
        width: 100%;
        list-style-type: none;
		padding: 0.1em 0;
		padding-right: 0.1em;
        font-size: 0.8em;
        max-width: 90vw;
	}

	/* Make the ending lines look nice */
	/* https://stackoverflow.com/questions/18744164/flex-box-align-last-row-to-grid */
	ul::after {
		content: "";
		flex: 1 0 400px;
	}

	a {
	    @include owid-link;
	}
}

.SearchPage > main {
    > form {
        max-width: 1200px;
        margin: 0 auto;
        margin-top: 20px;
        display: flex;
        margin-bottom: 30px;
    }

    > form > .inputWrapper {
        width: 100%;
        position: relative;
        padding-right: 5px;
    }

    > form > .inputWrapper input {
        width: 100%;
        height: 40px;
        padding-left: 35px;
    }

    > form > .inputWrapper svg {
        position: absolute;
        left: 10px;
        top: 12px;
    }

    > form > button {
        width: 160px;
        height: 40px;


        margin: 0px;
        position: relative;
        align-items: center;
        justify-content: center;
        padding-top: 0px;
        padding-bottom: 0px;
        padding-left: 16px;
        padding-right: 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        outline: none;
        text-decoration: none;
        box-sizing: border-box;
        touch-action: manipulation;
        background: #1865f2;
        color: #ffffff;
    }
}

.SearchResults {
    padding-bottom: 200px;

	> .container {
		max-width: 80rem;
		margin: auto;
		display: flex;
		flex-direction: row;
	}

	> .container > :first-child {
		margin-right: 5rem;
	}

	.postResults, .chartResults {
        width: 50%;

        > h2 {
            color: #666;
            font-weight: normal;
            padding-bottom: 1rem;
            border-bottom: 1px solid #ccc;
        }
    }

    .postResults li {
        list-style-type: none;

        a {
            font-size: 16px;
        }

        p {
            font-size: 13px;
        }
    }

    .chartResults > ul > li {
        list-style-type: none;
        line-height: 1.8em;

        p {
            font-size: 13px;
        }
    }

    .postResults em, .ChartResult em {
        font-style: normal;
        font-weight: bold;
    }

    .algoliaCredit {
        max-width: 80rem;
        margin: auto;
        margin-top: 2rem;
        text-align: right;
        opacity: 0.9;
    }
}

.chartVariantName {
    color: rgb(170, 170, 170);
    font-size: 0.9em;
}

@media (max-width: 950px) {
    .feedbackPromptContainer {
        display: none;
    }
}

.feedbackPromptContainer {
    opacity: 0.9;
    position: fixed;
    right: 20px;
    bottom: 20px;
    z-index: $zindex-popover;
}

.FeedbackPrompt {
    padding: 0.8rem;
    border-radius: 0.4rem;
    background: #002147;
    color: white;
    cursor: pointer;
    font-size: 15px;
}

.FeedbackForm {
    width: 342px;
    height: 550px;
    border-radius: .57143rem;
    box-shadow: 0 0 0.42857rem 0 rgba(0,0,0,.2);
    background: hsla(0,0%,100%,.98);
    color: #333;
    text-align: left;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: opacity .25s ease-in-out;

    &.loading > * {
        opacity: 0.5;
    }

    > header {
        background: #002147;
        color: white;
        font-size: 18px;
        text-align: center;

        padding-top: 1.07143rem;
        padding-bottom: 1.07143rem;
        padding-left: 1.42857rem;
        padding-right: 1.42857rem;
        margin-bottom: 1rem;
    }

    > div.formBody {
        padding-left: .71429rem;
        padding-right: .71429rem;
        overflow-y: auto;
        flex-grow: 1;

        > div {
            margin-bottom: 1.42857rem;

            label {
                vertical-align: middle;
                line-height: 2.14286;
                color: #555;
            }

            input {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                transition: border-color .25s ease-in-out,box-shadow .1s ease-in-out,background-color .25s ease-in-out,color .25s ease-in-out;
                outline: none;
                border: 1px solid #d8dcde;
                border-radius: 4px;
                background-color: #fff;
                padding: .71429em 1.14286em;
                width: 100%;
                min-height: 40px;
                box-sizing: border-box;
                vertical-align: middle;
                line-height: 1.28571;
                color: #2f3941;
                font-family: inherit;
                font-size: 14px;
            }

            textarea {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                transition: border-color .25s ease-in-out,box-shadow .1s ease-in-out,background-color .25s ease-in-out,color .25s ease-in-out;
                outline: none;
                border: 1px solid #d8dcde;
                border-radius: 4px;
                background-color: #fff;
                padding: .71429em 1.14286em;
                width: 100%;
                min-height: 40px;
                box-sizing: border-box;
                vertical-align: middle;
                line-height: 1.28571;
                color: #2f3941;
                font-family: inherit;
                font-size: 14px;
            }
        }
    }

    > footer {
        border-top: .07857rem solid #e9ebed;
        box-shadow: 0 -0.07143rem 0.85714rem rgba(0,0,0,.08);
        padding-top: 1.07143rem;
        padding-bottom: 1.07143rem;
        display: flex;
        justify-content: flex-end;
        padding-left: 1.42857rem;
        padding-right: 1.42857rem;

        button {
            display: inline-block;
            transition: border-color .25s ease-in-out,box-shadow .1s ease-in-out,background-color .25s ease-in-out,color .25s ease-in-out;
            margin: 0;
            border: 1px solid #5293c7;
            border-radius: 4px;
            background-color: transparent;
            cursor: pointer;
            padding: 0 1.92857em;
            min-width: 8.57143em;
            overflow: hidden;
            vertical-align: middle;
            text-align: center;
            text-decoration: none;
            text-overflow: ellipsis;
            line-height: 38px;
            white-space: nowrap;
            color: #1f73b7;
            font-family: inherit;
            font-size: 14px;
            font-weight: 400;
            -webkit-font-smoothing: subpixel-antialiased;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        button:first-child:hover {
            background-color: #63a9f8;
            color: white;
        }

        button[type=submit] {
            background-color: #002147;
            color: white;
            margin-left: .35714rem;

            &:hover {
                background-color: #63a9f8;
                color: white;
            }
        }
    }
}